function CapsList(n,e){this.target=this._getTargetObject(n),this.caps=e}function Fix(){var n=this;this.vendorPrefixes=["WebKit","webkit","Moz","moz","ms","O"],this.addPropertyCaps=function(n){var e=n.target,t=n.caps;if(e)for(var l in t)if(!(l in e)){var i=this._detectWorkingKey(e,l);if(i)e[l]=e[i];else{var r=t[l];if(r){e[l]=r;continue}this._addWarningGetter(e,l)}}},this._addWarningGetter=function(e,t){this._defineProperty(e,t,{get:function(){return n._oldBrowser(e,t)},set:function(e){return n._defineProperty(this,t,{value:e}),e}})},this.addProxyCaps=function(n){var e=n.target,t=n.caps;if(e)for(var l in t)if(!(l in e)){var i=t[l];this._addProxyCap(e,l,i)}},this._addProxyCap=function(e,t,l){var i;if(l)var r=l.aliases,o=l.value,a=l.get,u=l.set;if(a||u)var s=!0;if(o)var c=!0;this._defineProperty(e,t,{get:function(){return i||(i=n._detectWorkingKey(this,t,r))?this[i]:s?a.call(this):c?o:n._oldBrowser(e,t)},set:function(l){return i||(i=n._detectWorkingKey(this,t,r))?this[i]=l:s?u.call(this,l):(n._oldBrowser(e,t),l)}})},this._defineProperty=function(n,e,t){return"defineProperty"in Object?Object.defineProperty(n,e,t):(this._oldBrowser(Object,"defineProperty"),void 0)},this._detectWorkingKey=function(n,e,t){var l=this._detectPrefix(n,e);if(l)return this._attachPrefixToKey(l,e);if(t)for(var i=0;t.length>i;i++){var r=t[i];if(r in n)return r;var o=this._detectPrefix(n,r);if(o)return this._attachPrefixToKey(o,r)}return!1},this._detectPrefix=function(n,e){for(var t=this.vendorPrefixes,l=0;t.length>l;l++){var i=t[l],r=this._attachPrefixToKey(i,e);if(r in n)return i}return!1},this._attachPrefixToKey=function(n,e){var t=e.substr(0,1).toUpperCase();return n+t+e.substr(1)},this.override=function(){},this._oldBrowser=function(n,e){return Fix.onoldbrowserdetected instanceof Function&&Fix.onoldbrowserdetected(e),function(){}},this.triggerDetectOldBrowser=function(n){this._oldBrowser(null,n)}}function Notification(){var n=this,e=this._createElement("div",{display:"block",position:"fixed",width:"100%",height:"auto",overflow:"hidden",top:"0",left:"0",fontFamily:"Tahoma, Verdana, Arial, sans-serif",color:"white",textShadow:"0 1px 2px #000",textAlign:"center",backgroundColor:"#444",boxShadow:"0 0 20px #000",zIndex:"2147483647"}),t=this._createElement("h1",{display:"block",width:"100%",margin:"10px",fontWeight:"100",fontSize:"20px",textAlign:"center"});t.innerHTML=Notification.HEADER_TEXT;var l=this._createElement("a",{display:"inline-block",padding:"85px 0 10px",margin:"10px 0 0",width:"200px",border:"5px solid #333",color:"#333",backgroundAttachment:"scroll",backgroundPosition:"50% 15px",backgroundRepeat:"no-repeat",backgroundImage:"url(//vk.com/images/chrome.gif)",backgroundColor:"rgb(242, 244, 255)",cursor:"pointer",textShadow:"none"});l.innerHTML="Google Chrome",l.href="//www.google.com/chrome/";var i=this._createElement("p",{display:"block",width:"100%",padding:"0 10px 5px",color:"#999",textAlign:"left"}),r=this._createElement("span",{display:"inline",width:"auto",color:"#999",textDecoration:"underline",fontSize:"17px",cursor:"pointer"});r.innerHTML=Notification.DETAILS_TEXT,r.onclick=function(){n._onclickDetails()};var o=this._createElement("ul",{display:"none",margin:"10px 50px",listStyle:"square outside",fontSize:"20px",textAlign:"left"}),a=this._createElement("div",{display:"block",width:"100%",height:"25px",color:"white",fontSize:"20px",borderBottom:"1px solid #555",textAlign:"center",backgroundColor:"#333",cursor:"pointer"});a.innerHTML=Notification.CLOSE_TEXT,a.onclick=function(){n.close()},e.appendChild(t),e.appendChild(l),i.appendChild(r),e.appendChild(i),e.appendChild(o),e.appendChild(a),this.isOpened=!1,this.isOpenedDetails=!1,this.detailsList=[],this.HTMLContainer=e,this.HTMLHeader=t,this.HTMLChrome=l,this.HTMLShowDetailsP=i,this.HTMLShowDetailsSpan=r,this.HTMLDetailsList=o,this.HTMLCloseButton=a}CapsList.oncantgettarget=null,CapsList.cantReadPropertiesList=[],CapsList.addEventListener=function(n){var e=CapsList.cantReadPropertiesList;if(e.length)for(var t=0;e.length>t;t++)n.call(CapsList,e[t]);CapsList.oncantgettarget=n},CapsList._cantReadProperty=function(n){CapsList.oncantgettarget instanceof Function?CapsList.oncantgettarget(n):CapsList.cantReadPropertiesList.push(n)},CapsList.prototype._getTargetObject=function(n){if("string"!=typeof n)return n;for(var e=window,t=n.split("."),l=0;t.length>l;l++){var i=t[l];if(void 0===e[i]||null===e[i])return CapsList._cantReadProperty(i),null;e=e[i]}return e},Fix.onoldbrowserdetected=null,Notification.HEADER_TEXT="Вообще-то, ваш браузер довольно сильно устарел.<br>Для нормального просмотра сайта обновите его например на:",Notification.DETAILS_TEXT="Что именно не поддерживает мой браузер?",Notification.CLOSE_TEXT="закрыть",Notification.prototype._createElement=function(n,e){var t=document.createElement(n);t.style.backgroundColor="transparent",t.style.border="none",t.style.margin="0",t.style.padding="0";for(var l in e)t.style[l]=e[l];return t},Notification.prototype.addMessage=function(n){for(var e=this.detailsList,t=0;e.length>t;t++)if(n===e[t])return;e.push(n),this._addDetail(n),this.open()},Notification.prototype.open=function(){var n=this,e=this.HTMLContainer,t=document.body,l=navigator.userAgent,i=this.isOpened;if(i!==!0){if(/MSIE/.test(l)){if(!t)return window.onload=function(){n.open()},void 0;t.insertBefore(e,t.firstChild)}else t.appendChild(e);this.isOpened=!0}},Notification.prototype.close=function(){var n=this.HTMLContainer,e=this.HTMLDetailsList,t=this.isOpened;t!==!1&&(n.parentNode.removeChild(n),e.innerHTML="")},Notification.prototype._onclickDetails=function(){var n=this.HTMLDetailsList,e=this.isOpenedDetails;return n.style.display=e?"none":"block",this.isOpenedDetails=!e,!1},Notification.prototype._addDetail=function(n){var e=this.HTMLDetailsList,t=document.createElement("li");t.innerHTML=n,e.appendChild(t)};var proxyCss=new CapsList("CSSStyleDeclaration.prototype",{alignContent:null,alignItems:null,alignSelf:null,animation:null,animationDelay:null,animationDirection:null,animationDuration:null,animationFillMode:null,animationIterationCount:null,animationName:null,animationPlayState:null,animationTimingFunction:null,appRegion:null,appearance:null,aspectRatio:null,backfaceVisibility:null,backgroundComposite:null,backgroundOrigin:null,backgroundSize:null,borderAfter:null,borderAfterColor:null,borderAfterStyle:null,borderAfterWidth:null,borderBefore:null,borderBeforeColor:null,borderBeforeStyle:null,borderBeforeWidth:null,borderEnd:null,borderEndColor:null,borderEndStyle:null,borderEndWidth:null,borderFit:null,borderHorizontalSpacing:null,borderImage:null,borderRadius:null,borderStart:null,borderStartColor:null,borderStartStyle:null,borderStartWidth:null,borderVerticalSpacing:null,boxAlign:null,boxDecorationBreak:null,boxDirection:null,boxFlex:null,boxFlexGroup:null,boxLines:null,boxOrdinalGroup:null,boxOrient:null,boxPack:null,boxShadow:null,clipPath:null,colorCorrection:null,columnAxis:null,columnBreakAfter:null,columnBreakBefore:null,columnBreakInside:null,columnCount:null,columnGap:null,columnProgression:null,columnRule:null,columnRuleColor:null,columnRuleStyle:null,columnRuleWidth:null,columnSpan:null,columnWidth:null,columns:null,filter:null,flex:null,flexBasis:null,flexDirection:null,flexFlow:null,flexGrow:null,flexShrink:null,flexWrap:null,flowFrom:null,flowInto:null,fontFeatureSettings:null,fontKerning:null,fontSizeDelta:null,fontSmoothing:null,fontVariantLigatures:null,gridAfter:null,gridAutoColumns:null,gridAutoFlow:null,gridAutoRows:null,gridBefore:null,gridColumn:null,gridColumns:null,gridEnd:null,gridRow:null,gridRows:null,gridStart:null,highlight:null,hyphenateCharacter:null,hyphenateLimitAfter:null,hyphenateLimitBefore:null,hyphenateLimitLines:null,hyphens:null,justifyContent:null,lineAlign:null,lineBoxContain:null,lineBreak:null,lineClamp:null,lineGrid:null,lineSnap:null,locale:null,logicalHeight:null,logicalWidth:null,marginAfter:null,marginAfterCollapse:null,marginBefore:null,marginBeforeCollapse:null,marginBottomCollapse:null,marginCollapse:null,marginEnd:null,marginStart:null,marginTopCollapse:null,marquee:null,marqueeDirection:null,marqueeIncrement:null,marqueeRepetition:null,marqueeSpeed:null,marqueeStyle:null,mask:null,maskBoxImage:null,maskBoxImageOutset:null,maskBoxImageRepeat:null,maskBoxImageSlice:null,maskBoxImageSource:null,maskBoxImageWidth:null,maskClip:null,maskComposite:null,maskImage:null,maskOrigin:null,maskPosition:null,maskPositionX:null,maskPositionY:null,maskRepeat:null,maskRepeatX:null,maskRepeatY:null,maskSize:null,maxLogicalHeight:null,maxLogicalWidth:null,minLogicalHeight:null,minLogicalWidth:null,nbspMode:null,order:null,paddingAfter:null,paddingBefore:null,paddingEnd:null,paddingStart:null,perspective:null,perspectiveOrigin:null,perspectiveOriginX:null,perspectiveOriginY:null,printColorAdjust:null,regionBreakAfter:null,regionBreakBefore:null,regionBreakInside:null,regionOverflow:null,rtlOrdering:null,rubyPosition:null,shapeInside:null,shapeMargin:null,shapeOutside:null,shapePadding:null,svgShadow:null,tapHighlightColor:null,textCombine:null,textDecorationsInEffect:null,textEmphasis:null,textEmphasisColor:null,textEmphasisPosition:null,textEmphasisStyle:null,textFillColor:null,textOrientation:null,textSecurity:null,textStroke:null,textStrokeColor:null,textStrokeWidth:null,transform:null,transformOrigin:null,transformOriginX:null,transformOriginY:null,transformOriginZ:null,transformStyle:null,transition:null,transitionDelay:null,transitionDuration:null,transitionProperty:null,transitionTimingFunction:null,userDrag:null,userModify:null,userSelect:null,wrap:null,wrapFlow:null,wrapThrough:null,writingMode:null}),objectDefineProperty=new CapsList("Object",{defineProperty:function(n){return function(e){try{return n.apply(this,arguments)}catch(t){var l=e===window,i=e instanceof window.HTMLDocument,r=e instanceof window.Element,o=e instanceof window.Event,a=!(l||i||r||o);throw a&&fix.triggerDetectOldBrowser("defineProperty"),t}}}}),propertyFunction=new CapsList("Function.prototype",{bind:function(n){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),t=this,l=function(){},i=function(){return t.apply(this instanceof l&&n?this:n,e.concat(Array.prototype.slice.call(arguments)))};return l.prototype=this.prototype,i.prototype=new l,i}}),propertyArray=new CapsList("Array.prototype",{indexOf:function(n){for(var e=0;this.length>e;e++)if(this[e]===n)return e;return-1}}),proxyElement=new CapsList("Element.prototype",{createShadowRoot:null,getRegionFlowRanges:null,querySelectorAll:null,matchesSelector:{value:function(n){for(var e=this.parentNode.querySelectorAll(n),t=0;e.length>t;t++)if(e[t]===this)return!0;return!1}},requestFullscreen:{aliases:["requestFullScreen"]},requestPointerLock:null}),proxyDocument=new CapsList("document",{cancelFullscreen:{aliases:["cancelFullScreen","exitFullScreen","exitFullscreen"]},exitPointerLock:{aliases:["exitPointerlock","cancelPointerLock","cancelPointerlock"]},pointerLockElement:null}),proxyEvent=function(){function n(e){var t=n.elements.indexOf(e);return-1===t&&(t=n.elements.push(e)-1),"_hash:"+t}function e(e,t){var l=n(e.target),i=n.oldEventCoordinates[l];void 0===i&&(i={x:0,y:0},"mousemove"==e.type&&(n.oldEventCoordinates[l]=i));var r=e["screen"+t.toUpperCase()],o=r-i[t];return i[t]=r,o}return n.elements=[],n.oldEventCoordinates=[],new CapsList("Event.prototype",{movementX:{get:function(){return e(this,"x")}},movementY:{get:function(){return e(this,"y")}}})}(),propertyElement=new CapsList("Element.prototype",{addEventListener:function(n,e,t){var l=this;return this.attachEvent("on"+n,function(){e.apply(l,arguments)},t)},removeEventListener:function(n,e,t){var l=this;return this.detachEvent("on"+n,function(){e.apply(l,arguments)},t)},onfullscreenchange:{aliases:["onwebkitfullscreenchange","onmozfullscreenchange"]},onfullscreenerror:{aliases:["onwebkitfullscreenerror","onmozfullscreenerror"]},onpointerlockchange:{aliases:["onwebkitpointerlockchange","onmozfullscreenchange"]},onpointerlockerror:{aliases:["onwebkitpointerlockerror","onmozfullscreenchange"]}}),overrideElement=function(){function n(n){return function(t,l,i){for(var r=0;e.length>r;r++)n.call(this,e[r]+t,l,i);n.apply(this,arguments)}}var e=["webkit","moz"];return new CapsList("Element.prototype",{addEventListener:n,removeEventListener:n})}(),propertyWindow=new CapsList("window",{AnimationEvent:null,CSSFilterRule:null,CSSFilterValue:null,CSSKeyframeRule:null,CSSKeyframesRule:null,CSSMatrix:null,CSSMixFunctionValue:null,CSSRegionRule:null,CSSTransformValue:null,IDBCursor:null,IDBDatabase:null,IDBFactory:null,IDBIndex:null,IDBKeyRange:null,IDBObjectStore:null,IDBRequest:null,IDBTransaction:null,MediaSource:null,MutationObserver:null,Point:null,RTCPeerConnection:null,ShadowRoot:null,SourceBuffer:null,SourceBufferList:null,TransitionEvent:null,URL:null,Worker:null,audioContext:null,audioPannerNode:null,cancelAnimationFrame:null,cancelRequestAnimationFrame:function(n){return clearTimeout(n)},convertPointFromNodeToPage:null,convertPointFromPageToNode:null,indexedDB:null,mediaStream:null,notifications:null,offlineAudioContext:null,requestAnimationFrame:function(n){return setTimeout(n,1e3/60)},requestFileSystem:null,resolveLocalFileSystemURL:null,speechGrammar:null,speechGrammarList:null,speechRecognition:null,speechRecognitionError:null,speechRecognitionEvent:null}),fix=new Fix,notification=new Notification;Fix.onoldbrowserdetected=function(n){notification.addMessage(n)},CapsList.addEventListener(function(n){notification.addMessage(n)}),fix.addPropertyCaps(propertyWindow),fix.addPropertyCaps(propertyArray),fix.addPropertyCaps(propertyFunction),fix.addPropertyCaps(propertyElement),fix.addProxyCaps(proxyCss),fix.addProxyCaps(proxyEvent),fix.addProxyCaps(proxyElement),fix.addProxyCaps(proxyDocument),fix.override(overrideElement),/MSIE 8/.test(navigator.userAgent)&&fix.override(objectDefineProperty);